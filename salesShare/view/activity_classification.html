<!DOCTYPE html>
<html>
  <head>
    <title>jQuery WeUI</title>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

<meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.
">

<link rel="stylesheet" href="../css/framework/weui/weui.css">
<link rel="stylesheet" href="../css/framework/weui/jquery-weui.css">
<link rel="stylesheet" href="../css/layouts/common.css">
<style type="text/css">
	
#tab1,
#tab2,
#tab3,
#tab4,
#tab5{
	padding-bottom: 10px;
	background-color: #ffebe4;
}
section{
    width: 44%;
    margin: 4% auto auto 4%;
    float: left;

    background-color: #fafafa;
    box-shadow: 3px 2px 5px #bfbfbf;

    padding: 0px;

}
section .banner{
	
}
section .banner img{
	width: 100%;
	height: 100px;
}
section .progress-info{
    float: left;
    padding: 5px 10px 5px;
    font-size: 14px;
    color: #737272;
    width: 92%;
}
section .progress-info label{
    float: left;
    width: 50%;	
}
section .progress-info div{
    text-align: right;
    float: right;
    width: 50%;	
}
section .progress-info h5{
    text-align: center;
    font-size: 20px;
}
section .progress-info .btns{
    display: flex;
    justify-content: space-around;
    margin-top: 10px;
    width: 100%;	
}
section .progress-info .btns span{
    line-height: 30px;
    width: 40%;
    height: 30px;
}


.view-all{
		position: fixed;
    bottom: -1px;
    width: 100%;
    /* background-color: #3d4145; */
    text-align: center;
    /* opacity: .8; */
    color: #fff;	
}
.view-all h5{
    opacity: .85;
    background-color: #3d4145;
    height: 50px;
    width: 30%;
    margin: auto;
    line-height: 50px;
    font-size: 20px;
    letter-spacing: 3px;
    border-radius: 8px 8px 0px 0px;
}
</style>
  </head>
<script src="../js/libs/vue/vue.js"></script>




  <body ontouchstart >
  	
  	<div id="classificationVue">
  		
  	
    <div class="weui-tab">
      <div class="weui-navbar">
        <a class="weui-navbar__item weui-bar__item--on" href="#tab1">
          全部
        </a>
        <a class="weui-navbar__item" href="#tab2">
          免费
        </a>
        <a class="weui-navbar__item" href="#tab3">
          推荐
        </a>
        <a class="weui-navbar__item" href="#tab4">
          热销
        </a>
        <a class="weui-navbar__item" href="#tab5">
          订制
        </a>
      </div>
      <div class="weui-tab__bd">
        <div id="tab1" class="weui-tab__bd-item weui-tab__bd-item--active">
        
        	 	<section  class=""  v-for="item in activityList">
        	 		<div class="banner">
        	 			<img :src="item.themeImgUrl" alt="" />
        	 		</div>
        	 		<div class="progress-info">
        	 			
        	 				
        	 				<h5>{{ item.title }}</h5>
        	 				<div class="btns">
        	 					<span class="btn btn-small edit"  @click="goto_edit(item)">制作</span>
        	 				  <span class="btn btn-small search"  @click="goto_search(item)">示例</span>
        	 				</div>
        	 				 
     
        
        	 		</div>
        	 	</section>
            
        	</div>
     
        <div id="tab2" class="weui-tab__bd-item">
 
        	 	<section v-for="item in activityList" v-show="item.type == 1" class="">
        	 		<div class="banner">
        	 			<img :src="item.themeImgUrl" alt="" />
        	 		</div>
        	 		<div class="progress-info">
        	 			
        	 				<h5>{{ item.title }}</h5>
        	 				
        	 				<span class="btn btn-small edit">制作</span>
        	 				  <span class="btn btn-small search">示例</span>
        
        	 		</div>
        	 	</section>
         
        </div>
        <div id="tab3" class="weui-tab__bd-item">
        	
        	 	<section  v-for="item in activityList" v-show="item.type == 2" class="">
        	 		<div class="banner">
        	 			<img :src="item.themeImgUrl" alt="" />
        	 		</div>
        	 		<div class="progress-info">
        	 			
        	 				<h5>{{ item.title }}</h5>
        	 				
        	 				<span class="btn btn-small edit">制作</span>
        	 				  <span class="btn btn-small search">示例</span>
        
        	 		</div>
        	 	</section>
            
    
        </div>
        <div id="tab4" class="weui-tab__bd-item">
        
        	 	<section v-for="item in activityList"  v-show="item.type == 3" class="">
        	 		<div class="banner">
        	 			<img :src="item.themeImgUrl" alt="" />
        	 		</div>
        	 		<div class="progress-info">
        	 			
        	 				<h5>{{ item.title }}</h5>
        	 				
        	 				<span class="btn btn-small edit">制作</span>
        	 				  <span class="btn btn-small search">示例</span>
        
        	 		</div>
        	 	</section>
            
               
        </div>
        <div id="tab5" class="weui-tab__bd-item">
        	
        	 	<section v-for="item in activityList"  v-show="item.type == 4" class="">
        	 		<div class="banner">
        	 			<img :src="item.themeImgUrl" alt="" />
        	 		</div>
        	 		<div class="progress-info">
        	 			
        	 				<h5>{{ item.title }}</h5>
        	 				
        	 				<span class="btn btn-small edit"  @click="goto(item)">制作</span>
        	 				  <span class="btn btn-small search">示例</span>
        
        	 		</div>
        	 	</section>
            
               
        </div>
        
      </div>
    </div>
</div>



<div id="viewAll" class="view-all">
	<h5  class="hand-trigger open-popup" data-target="#selectSort">全部分类</h5>
	
	
</div>


	<div id="selectSort" class="weui-popup__container popup-bottom">
		  <div class="weui-popup__overlay"></div>
		  <div class="weui-popup__modal">
		  	

			   
		  <div class="weui-grids">
            <a @click="showActivity(1)" href="javascript:;" class="weui-grid js_grid" data-id="dialog">
              <div class="weui-grid__icon">
                <img src="images/icon_nav_dialog.png" alt="">
              </div>
              <p class="weui-grid__label">
               砍价
              </p>
            </a>
            <a  @click="showActivity(2)" href="javascript:;" class="weui-grid js_grid" data-id="progress">
              <div class="weui-grid__icon">
                <img src="images/icon_nav_progress.png" alt="">
              </div>
              <p class="weui-grid__label">
                集赞
              </p>
            </a>
            <a  @click="showActivity(3)" href="javascript:;" class="weui-grid js_grid" data-id="msg">
              <div class="weui-grid__icon">
                <img src="images/icon_nav_msg.png" alt="">
              </div>
              <p class="weui-grid__label">
                投票
              </p>
            </a>
            <a @click="showActivity(4)" href="javascript:;" class="weui-grid js_grid" data-id="dialog">
              <div class="weui-grid__icon">
                <img src="images/icon_nav_dialog.png" alt="">
              </div>
              <p class="weui-grid__label">
                抽奖
              </p>
            </a>
            <a @click="showActivity(5)" href="javascript:;" class="weui-grid js_grid" data-id="progress">
              <div class="weui-grid__icon">
                <img src="images/icon_nav_progress.png" alt="">
              </div>
              <p class="weui-grid__label">
                支付
              </p>
            </a>
            <a @click="showActivity(6)" href="javascript:;" class="weui-grid js_grid" data-id="msg">
              <div class="weui-grid__icon">
                <img src="images/icon_nav_msg.png" alt="">
              </div>
              <p class="weui-grid__label">
                互动
              </p>
            </a>
            
            <a @click="showActivity(7)" href="javascript:;" class="weui-grid js_grid" data-id="msg">
              <div class="weui-grid__icon">
                <img src="images/icon_nav_msg.png" alt="">
              </div>
              <p class="weui-grid__label">
                全部
              </p>
            </a>
            
          </div>
		   
		   
		  </div>
		</div>

<script src="../js/libs/jquery/jquery-2.1.4.js"></script>
<script src="../js/libs/weui/fastclick.js"></script>

<script>
  $(function() {
    FastClick.attach(document.body);
  });
</script>
<script src="../js/libs/weui/jquery-weui.js"></script>

<script>
var testData = [{
    	type:1,
    	title:'国庆大砍价',
    	shopUserId:15,
			activityTypeId:2,
			activityType:'bargain',
			themeImgUrl:'../images/demo/11.png',
    },{
    	type:1,
    	title:'呼朋唤友来砍价',
    	shopUserId:15,
			activityTypeId:2,
			activityType:'bargain',
			themeImgUrl:'../images/demo/22.jpg',
    },{
    	type:2,
    	title:'砍价',
    	shopUserId:15,
			activityTypeId:2,
			activityType:'bargain',
			themeImgUrl:'../images/demo/33.jpg',
    },{
    	type:3,
    	title:'砍价吧兄弟',
    	shopUserId:15,
			activityTypeId:2,
			activityType:'bargain',
			themeImgUrl:'../images/demo/44.jpg',
    }]	
	
	
	
var  classificationVue = new Vue({
  el: '#classificationVue',
  data: {
    activityList:testData 
  },
 methods: {
    goto_edit: function (item) {
    	setTimeout(function(){
    			location.href="add_activity.html?shopUserId="+item.shopUserId+"&activityTypeId=" + item.activityTypeId+"&activityType=" + item.activityType
    	},500)
    },
    goto_search: function (item) {
    	setTimeout(function(){
    			location.href="demo_activity.html?shopUserId="+item.shopUserId+"&activityTypeId=" + item.activityTypeId+"&activityType=" + item.activityType
    	},500)
    },
    showActivity: function (type) {
    	debugger    	
    	activity.get_one_type_activity(type);
    	
    	this.$nextTick(function(){
    		$.closePopup();
    				
			})
    	
    }
  }
})	  	


var activity = {
		init:function(){
			// this.get_one_type_activity(1)
			 
		},

		get_one_type_activity:function (type) {
			
			request.postData({
        url: urlConfig.registerUrl,
        param: type
        }).then(function(data) {
        	
        	classificationVue.activityList = data.list;

        }, function(err) {
            console.log(err);
        });
			debugger;
		}
		
	}
	activity.init();
	

    </script>
  </body>
</html>
